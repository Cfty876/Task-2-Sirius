Результаты тестирования
🚀 Запуск комплексного тестирования системы бронирования
📋 Проверка всех требований ТЗ

============================================================
🔍 Swagger документация
============================================================
✅ PASS: Swagger UI доступен
   📝 Status: 200
✅ PASS: ReDoc доступен
   📝 Status: 200

============================================================
🔍 Настройка аутентификации
============================================================
✅ PASS: Admin login
   📝 Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZ...
✅ PASS: User login
   📝 Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c...

============================================================
🔍 Безопасность аутентификации
============================================================
✅ PASS: Формат токена: Корректный формат
   📝 Expected: 200, Got: 200
✅ PASS: Формат токена: Без Bearer
   📝 Expected: 401, Got: 401
✅ PASS: Формат токена: Bearer в нижнем регистре
   📝 Expected: 401, Got: 401
✅ PASS: Формат токена: Токен с пробелами внутри
   📝 Expected: 401, Got: 401
✅ PASS: Формат токена: Пустой токен
   📝 Expected: 401, Got: 401
✅ PASS: Формат токена: Только Bearer
   📝 Expected: 401, Got: 401

============================================================
🔍 Регистрация и авторизация
============================================================
✅ PASS: Регистрация нового пользователя
   📝 Status: 200
✅ PASS: Логин нового пользователя
   📝 Status: 200

============================================================
🔍 CRUD операции для отелей
============================================================
✅ PASS: Создание отеля
   📝 Status: 200
✅ PASS: Получение списка отелей
   📝 Found: 8 hotels
✅ PASS: Обновление отеля
   📝 Status: 200
✅ PASS: Удаление отеля
   📝 Status: 200

============================================================
🔍 CRUD операции для номеров
============================================================
✅ PASS: Создание комнаты
   📝 Status: 200
✅ PASS: Получение списка комнат
   📝 Found: 7 rooms
✅ PASS: Обновление комнаты
   📝 Status: 200
✅ PASS: Удаление комнаты
   📝 Status: 200

============================================================
🔍 Фильтрация и сортировка отелей
============================================================
✅ PASS: Фильтрация отелей по городу
   📝 Found 2 hotels in Moscow
✅ PASS: Фильтрация отелей по звездам
   📝 Found 2 5-star hotels
✅ PASS: Сортировка отелей по звездам

============================================================
🔍 Фильтрация и сортировка номеров
============================================================
✅ PASS: Фильтрация номеров по типу
   📝 Found 3 premium rooms
✅ PASS: Фильтрация номеров по цене
   📝 Found 4 rooms in price range
✅ PASS: Сортировка номеров по цене

============================================================
🔍 Два метода проверки доступности номеров
============================================================
✅ PASS: Доступность по датам
   📝 Found 6 available rooms
✅ PASS: Доступность по длительности
   📝 Found 6 available rooms

============================================================
🔍 Workflow бронирования отеля
============================================================
✅ PASS: Создание бронирования отеля
   📝 Status: 200
✅ PASS: Получение бронирований пользователя
   📝 Found 5 bookings
✅ PASS: Админ видит все бронирования
   📝 Found 5 total bookings
✅ PASS: Отмена бронирования админом
   📝 Status: 200

============================================================
🔍 Поиск рейсов
============================================================
✅ PASS: Поиск прямых рейсов
   📝 Found 0 route options
✅ PASS: Поиск рейсов через город
   📝 Found 0 routes via St. Petersburg

============================================================
🔍 Workflow бронирования авиабилетов
============================================================
✅ PASS: Бронирование авиабилета
   📝 Status: 200
✅ PASS: Сгенерирован номер брони
   📝 Reference: FL00010002150722
✅ PASS: Получение бронирований авиабилетов
   📝 Found 5 flight bookings

============================================================
🔍 Сортировка рейсов
============================================================
✅ PASS: Сортировка рейсов по цене
✅ PASS: Фильтрация рейсов по городам
   📝 Found 2 Moscow-Sochi flights

============================================================
🔍 ИТОГИ ТЕСТИРОВАНИЯ
============================================================
📊 Пройдено тестов: 13/13
🎯 Успешность: 100.0%

🎯 Критические требования: ✅ ВЫПОЛНЕНЫ

🎉 ВЫВОД: Система соответствует всем основным требованиям ТЗ!
   ✅ Регистрация и авторизация с безопасностью
   ✅ CRUD операции над всеми сущностями
   ✅ Swagger документация доступна
   ✅ Фильтрация и сортировка отелей и номеров
   ✅ Два метода бронирования номеров
   ✅ Поиск рейсов с фильтрацией и сортировкой
   ✅ Поиск через определенный город
   ✅ Специальные пометки для билетов

✨ Тестирование завершено успешно! Система готова к использованию.
📚 Документация: http://localhost:8000/docs
❤️  Проверка здоровья: http://localhost:8000/health

Process finished with exit code 0
